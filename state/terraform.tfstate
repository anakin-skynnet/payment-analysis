{
  "version": 4,
  "terraform_version": "1.5.5",
  "serial": 2201,
  "lineage": "c376e096-edca-7ddd-35e3-0b97d16884f8",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "databricks_app",
      "name": "payment_analysis_app",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "active_deployment": null,
            "app_status": {
              "message": "App status is unavailable.",
              "state": "UNAVAILABLE"
            },
            "budget_policy_id": null,
            "compute_size": "MEDIUM",
            "compute_status": {
              "message": "Start the app compute to deploy the app.",
              "state": "STOPPED"
            },
            "create_time": "2026-02-14T04:47:07Z",
            "creator": "ariel.hdez@databricks.com",
            "default_source_code_path": null,
            "description": "Payment Approval Optimization Platform \u2013 dashboards, rules, decisioning, ML models, and agent jobs.",
            "effective_budget_policy_id": "45ffa359-cef0-3521-b310-30711a380568",
            "effective_user_api_scopes": [
              "sql",
              "iam.current-user:read",
              "dashboards.genie",
              "serving.serving-endpoints",
              "iam.access-control:read"
            ],
            "id": "4e4ccaff-93ae-4ff9-8f58-ef32d66d012e",
            "name": "payment-analysis",
            "no_compute": true,
            "oauth2_app_client_id": "4322dbed-f0c8-48c1-af6c-0cf48ad03001",
            "oauth2_app_integration_id": "4322dbed-f0c8-48c1-af6c-0cf48ad03001",
            "pending_deployment": null,
            "provider_config": null,
            "resources": [
              {
                "database": null,
                "description": "SQL warehouse for analytics, app_config, gold views",
                "genie_space": null,
                "job": null,
                "name": "sql-warehouse",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": {
                  "id": "e32655fc948961bc",
                  "permission": "CAN_USE"
                },
                "uc_securable": null
              },
              {
                "database": null,
                "description": "UC volume for reports and Genie config",
                "genie_space": null,
                "job": null,
                "name": "volume-reports",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": {
                  "permission": "READ_VOLUME",
                  "securable_full_name": "ahs_demos_catalog.payment_analysis.reports",
                  "securable_type": "VOLUME"
                }
              },
              {
                "database": null,
                "description": "Genie space Payment Analytics",
                "genie_space": {
                  "name": "Payment Analytics",
                  "permission": "CAN_EDIT",
                  "space_id": "01f10700a35c1756a892406b5bab0b67"
                },
                "job": null,
                "name": "genie-space",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": null,
                "genie_space": null,
                "job": null,
                "name": "serving-orchestrator",
                "secret": null,
                "serving_endpoint": {
                  "name": "payment-analysis-orchestrator",
                  "permission": "CAN_QUERY"
                },
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": null,
                "genie_space": null,
                "job": null,
                "name": "serving-decline-analyst",
                "secret": null,
                "serving_endpoint": {
                  "name": "decline-analyst",
                  "permission": "CAN_QUERY"
                },
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": null,
                "genie_space": null,
                "job": null,
                "name": "serving-approval-prop",
                "secret": null,
                "serving_endpoint": {
                  "name": "approval-propensity",
                  "permission": "CAN_QUERY"
                },
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": null,
                "genie_space": null,
                "job": null,
                "name": "serving-risk-scoring",
                "secret": null,
                "serving_endpoint": {
                  "name": "risk-scoring",
                  "permission": "CAN_QUERY"
                },
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": null,
                "genie_space": null,
                "job": null,
                "name": "serving-smart-routing",
                "secret": null,
                "serving_endpoint": {
                  "name": "smart-routing",
                  "permission": "CAN_QUERY"
                },
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": null,
                "genie_space": null,
                "job": null,
                "name": "serving-smart-retry",
                "secret": null,
                "serving_endpoint": {
                  "name": "smart-retry",
                  "permission": "CAN_QUERY"
                },
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": "Job 1: Create Data Repositories (Lakehouse, Vector Search, Lakebase)",
                "genie_space": null,
                "job": {
                  "id": "847253571847564",
                  "permission": "CAN_MANAGE_RUN"
                },
                "name": "job-1-create-data-repos",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": "Job 2: Simulate Transaction Events (Streaming)",
                "genie_space": null,
                "job": {
                  "id": "910093278201989",
                  "permission": "CAN_MANAGE_RUN"
                },
                "name": "job-2-simulate-events",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": "Job 3: Initialize Ingestion (UC tools, data init)",
                "genie_space": null,
                "job": {
                  "id": "428469339305606",
                  "permission": "CAN_MANAGE_RUN"
                },
                "name": "job-3-initialize-ingestion",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": "Job 4: Deploy Dashboards (prepare + publish)",
                "genie_space": null,
                "job": {
                  "id": "250233642416647",
                  "permission": "CAN_MANAGE_RUN"
                },
                "name": "job-4-deploy-dashboards",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": "Job 5: Train ML Models and Publish to Serving",
                "genie_space": null,
                "job": {
                  "id": "53457360333263",
                  "permission": "CAN_MANAGE_RUN"
                },
                "name": "job-5-train-models",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": "Job 6: Deploy Agents (Orchestrator + Specialists, ResponsesAgent)",
                "genie_space": null,
                "job": {
                  "id": "322421284086051",
                  "permission": "CAN_MANAGE_RUN"
                },
                "name": "job-6-deploy-agents",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              },
              {
                "database": null,
                "description": "Job 7: Genie Space Sync",
                "genie_space": null,
                "job": {
                  "id": "358349217998024",
                  "permission": "CAN_MANAGE_RUN"
                },
                "name": "job-7-genie-sync",
                "secret": null,
                "serving_endpoint": null,
                "sql_warehouse": null,
                "uc_securable": null
              }
            ],
            "service_principal_client_id": "4e4ccaff-93ae-4ff9-8f58-ef32d66d012e",
            "service_principal_id": 144973856378818,
            "service_principal_name": "app-7hspbl payment-analysis",
            "update_time": "2026-02-14T04:47:19Z",
            "updater": "ariel.hdez@databricks.com",
            "url": "https://payment-analysis-984752964297111.11.azure.databricksapps.com",
            "user_api_scopes": [
              "sql",
              "serving.serving-endpoints",
              "dashboards.genie"
            ]
          },
          "sensitive_attributes": [],
          "dependencies": [
            "databricks_job.job_1_create_data_repositories",
            "databricks_job.job_2_simulate_transaction_events",
            "databricks_job.job_3_initialize_ingestion",
            "databricks_job.job_4_deploy_dashboards",
            "databricks_job.job_5_train_models_and_serving",
            "databricks_job.job_6_deploy_agents",
            "databricks_job.job_7_genie_sync",
            "databricks_sql_endpoint.payment_analysis_warehouse"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_grants",
      "name": "schema_agents_schema",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog": null,
            "credential": null,
            "external_location": null,
            "foreign_connection": null,
            "function": null,
            "grant": [
              {
                "principal": "ariel.hdez@databricks.com",
                "privileges": [
                  "ALL_PRIVILEGES"
                ]
              },
              {
                "principal": "users",
                "privileges": [
                  "USE_SCHEMA"
                ]
              }
            ],
            "id": "schema/ahs_demos_catalog.agents",
            "metastore": null,
            "model": null,
            "pipeline": null,
            "recipient": null,
            "schema": "ahs_demos_catalog.agents",
            "share": null,
            "storage_credential": null,
            "table": null,
            "volume": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "databricks_schema.agents_schema"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_grants",
      "name": "schema_payment_analysis_schema",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog": null,
            "credential": null,
            "external_location": null,
            "foreign_connection": null,
            "function": null,
            "grant": [
              {
                "principal": "ariel.hdez@databricks.com",
                "privileges": [
                  "ALL_PRIVILEGES"
                ]
              },
              {
                "principal": "users",
                "privileges": [
                  "EXECUTE",
                  "SELECT",
                  "USE_SCHEMA"
                ]
              }
            ],
            "id": "schema/ahs_demos_catalog.payment_analysis",
            "metastore": null,
            "model": null,
            "pipeline": null,
            "recipient": null,
            "schema": "ahs_demos_catalog.payment_analysis",
            "share": null,
            "storage_credential": null,
            "table": null,
            "volume": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "databricks_schema.payment_analysis_schema"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "job_1_create_data_repositories",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "description": "Ensure catalog and schema; create Lakebase Autoscaling (project/branch/endpoint); seed Lakebase with app_config, approval_rules, online_features, app_settings; create lakehouse tables; vector search. Run once after bundle deploy.",
            "edit_mode": "UI_LOCKED",
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [
              {
                "environment_key": "lakebase_sdk",
                "spec": [
                  {
                    "client": "",
                    "dependencies": [
                      "databricks-sdk==0.86.0",
                      "psycopg[binary]==3.3.2"
                    ],
                    "environment_version": "4",
                    "java_dependencies": []
                  }
                ]
              }
            ],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "847253571847564",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "[dev] 1. Create Data Repositories (Lakehouse, Vector Search, Lakebase)",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "provider_config": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": true
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "ariel.hdez@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [
              {
                "pause_status": "PAUSED",
                "quartz_cron_expression": "0 0 1 1 1 ?",
                "timezone_id": "UTC"
              }
            ],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": {
              "component": "data-repositories",
              "environment": "dev",
              "project": "payment-analysis",
              "step": "1"
            },
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "ensure_catalog_schema"
                  }
                ],
                "description": "Create Lakebase Autoscaling project, branch, and endpoint (idempotent). Parameters passed to next task via same job vars.",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "lakebase_sdk",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "lakebase_branch_id": "production",
                      "lakebase_endpoint_id": "primary",
                      "lakebase_project_id": "payment-analysis-db"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/run_create_lakebase_autoscaling",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "create_lakebase_autoscaling",
                "timeout_seconds": 700,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "lakehouse_bootstrap"
                  }
                ],
                "description": "Create vector search endpoint and delta-sync index for similar-transaction lookup",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 1,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "environment": "dev",
                      "schema": "payment_analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/vector_search/create_index",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "create_vector_search_index",
                "timeout_seconds": 1200,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Create Unity Catalog and schema if they do not exist",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "schema": "payment_analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/run_ensure_catalog_schema",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "ensure_catalog_schema",
                "timeout_seconds": 120,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "create_lakebase_autoscaling"
                  }
                ],
                "description": "Connect to Lakebase (from previous task) and insert default app_config, approval_rules, online_features, app_settings",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "lakebase_sdk",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "default_duration_minutes": "60",
                      "default_events_per_second": "1000",
                      "lakebase_branch_id": "production",
                      "lakebase_database_name": "payment_analysis",
                      "lakebase_endpoint_id": "primary",
                      "lakebase_project_id": "payment-analysis-db",
                      "lakebase_schema": "payment_analysis",
                      "schema": "payment_analysis",
                      "warehouse_id": "e32655fc948961bc"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/run_lakebase_data_init",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "lakebase_data_init",
                "timeout_seconds": 300,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "lakebase_data_init"
                  }
                ],
                "description": "Create Lakehouse tables, views, and seed data for Rules, Decisioning, and Dashboard",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "schema": "payment_analysis",
                      "workspace_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/run_lakehouse_bootstrap",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "lakehouse_bootstrap",
                "timeout_seconds": 300,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#job/847253571847564",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "databricks_sql_endpoint.payment_analysis_warehouse"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "job_2_simulate_transaction_events",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "description": "Generate synthetic payment events at high volume for real-time pipeline testing. Events will be ingested into the solution by Lakeflow and step 3.",
            "edit_mode": "UI_LOCKED",
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "910093278201989",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "[dev] 2. Simulate Transaction Events (Producer)",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "provider_config": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": true
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "ariel.hdez@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": {
              "component": "simulator",
              "domain": "payment-analytics",
              "environment": "dev",
              "project": "payment-analysis",
              "step": "2",
              "type": "streaming"
            },
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Generate synthetic payment events at high volume",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "duration_minutes": "60",
                      "events_per_second": "1000",
                      "output_mode": "delta",
                      "schema": "payment_analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/streaming/transaction_simulator",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "generate_transactions",
                "timeout_seconds": 7200,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#job/910093278201989",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "job_3_initialize_ingestion",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "description": "Create gold views, UC agent tool functions (for AgentBricks), and sync vector search index. Run after step 2 or when pipelines have produced silver data.",
            "edit_mode": "UI_LOCKED",
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "428469339305606",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "[dev] 3. Initialize Ingestion (Lakehouse, UC Agent Tools, Vector Search)",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "provider_config": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": true
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "ariel.hdez@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [
              {
                "pause_status": "PAUSED",
                "quartz_cron_expression": "0 30 * * * ?",
                "timezone_id": "UTC"
              }
            ],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": {
              "component": "ingestion",
              "environment": "dev",
              "project": "payment-analysis",
              "step": "3"
            },
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Create gold-layer analytical views for dashboards and Genie",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "schema": "payment_analysis",
                      "workspace_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/run_gold_views",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "create_gold_views",
                "timeout_seconds": 600,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "create_gold_views"
                  }
                ],
                "description": "Create Unity Catalog functions for AgentBricks (get_decline_trends, get_route_performance, etc.)",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 1,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "schema": "payment_analysis",
                      "workspace_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/run_create_uc_agent_tools",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "create_uc_agent_tools",
                "timeout_seconds": 300,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "create_uc_agent_tools"
                  }
                ],
                "description": "Sync vector search index from transaction_summaries_for_search",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 1,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "environment": "dev",
                      "schema": "payment_analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/vector_search/create_index",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "sync_vector_search",
                "timeout_seconds": 600,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#job/428469339305606",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "job_4_deploy_dashboards",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "description": "Prepare dashboard assets (catalog/schema substitution) and publish all AI/BI dashboards with embed credentials for the app UI.",
            "edit_mode": "UI_LOCKED",
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "250233642416647",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "[dev] 4. Deploy Dashboards (Prepare & Publish)",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "provider_config": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": true
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "ariel.hdez@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [
              {
                "pause_status": "PAUSED",
                "quartz_cron_expression": "0 0 12 * * ?",
                "timezone_id": "UTC"
              }
            ],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": {
              "component": "dashboards",
              "environment": "dev",
              "project": "payment-analysis",
              "step": "4"
            },
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Prepare dashboard assets (catalog/schema substitution)",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "schema": "payment_analysis",
                      "workspace_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/prepare_dashboards",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "prepare_dashboards",
                "timeout_seconds": 600,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "prepare_dashboards"
                  }
                ],
                "description": "Publish all AI/BI dashboards with embed credentials",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 1,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "dashboards_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/dashboards"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/publish_dashboards",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "publish_dashboards",
                "timeout_seconds": 1200,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#job/250233642416647",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "job_5_train_models_and_serving",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "description": "Train approval propensity, risk scoring, smart routing, and smart retry models; register in Unity Catalog. Publish endpoints via model_serving.yml after this job.",
            "edit_mode": "UI_LOCKED",
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "53457360333263",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "[dev] 5. Train Models & Publish to Model Serving",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "provider_config": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": true
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "ariel.hdez@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [
              {
                "pause_status": "PAUSED",
                "quartz_cron_expression": "0 0 3 * * ?",
                "timezone_id": "UTC"
              }
            ],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": {
              "component": "ml-training",
              "environment": "dev",
              "project": "payment-analysis",
              "step": "5"
            },
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Train all ML models with MLflow tracking",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 1,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "schema": "payment_analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/ml/train_models",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "train_models",
                "timeout_seconds": 5400,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#job/53457360333263",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "job_6_deploy_agents",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "description": "Run agent framework (orchestrator + specialists). Task 1 runs agent_framework.py; task 2 registers ResponsesAgent; task 3 optionally registers LangGraph agents. App Orchestrator chat uses task 1.",
            "edit_mode": "UI_LOCKED",
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [
              {
                "environment_key": "lakebase_sdk",
                "spec": [
                  {
                    "client": "",
                    "dependencies": [
                      "databricks-sdk==0.86.0",
                      "databricks-langchain==0.15.0",
                      "unitycatalog-langchain[databricks]==0.3.0",
                      "langgraph==1.0.8",
                      "langchain-core==1.2.11",
                      "mlflow==3.9.0",
                      "psycopg[binary]==3.3.2"
                    ],
                    "environment_version": "4",
                    "java_dependencies": []
                  }
                ]
              },
              {
                "environment_key": "responses_agent",
                "spec": [
                  {
                    "client": "",
                    "dependencies": [
                      "databricks-sdk==0.86.0",
                      "databricks-openai",
                      "backoff",
                      "mlflow==3.9.0",
                      "databricks-agents"
                    ],
                    "environment_version": "4",
                    "java_dependencies": []
                  }
                ]
              }
            ],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "322421284086051",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "[dev] 6. Deploy Agents (Orchestrator & Specialists)",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "provider_config": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": true
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "ariel.hdez@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [
              {
                "pause_status": "PAUSED",
                "quartz_cron_expression": "0 0 7 ? * MON",
                "timezone_id": "UTC"
              }
            ],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": {
              "component": "ai-agents",
              "domain": "payment-analytics",
              "environment": "dev",
              "project": "payment-analysis",
              "step": "6"
            },
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Log and register LangGraph AgentBricks agents to Unity Catalog (MLflow) for Model Serving / Agents UI",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "lakebase_sdk",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "llm_endpoint": "databricks-claude-sonnet-4-5",
                      "llm_endpoint_orchestrator": "databricks-claude-opus-4-6",
                      "llm_endpoint_specialist": "databricks-claude-sonnet-4-5",
                      "model_registry_schema": "agents",
                      "schema": "payment_analysis",
                      "workspace_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/agents/agentbricks_register",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "register_agentbricks",
                "timeout_seconds": 1800,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Register the ResponsesAgent (agent.py) to Unity Catalog and deploy to Model Serving",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "responses_agent",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "llm_endpoint": "databricks-claude-sonnet-4-5",
                      "model_registry_schema": "agents",
                      "schema": "payment_analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/agents/register_responses_agent",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "register_responses_agent",
                "timeout_seconds": 1800,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Run agent framework (orchestrator + all specialists); output used by app Orchestrator chat",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "lakebase_sdk",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 2,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "agent_role": "orchestrator",
                      "catalog": "ahs_demos_catalog",
                      "llm_endpoint": "databricks-claude-opus-4-6",
                      "query": "Run comprehensive payment analysis: routing, retries, declines, risk, and performance optimizations.",
                      "schema": "payment_analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/agents/agent_framework",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "run_agent_framework",
                "timeout_seconds": 3600,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#job/322421284086051",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "job_7_genie_sync",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "description": "Syncs Genie space configuration and sample questions for natural language analytics",
            "edit_mode": "UI_LOCKED",
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "358349217998024",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "[dev] 7. Genie Space Sync",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "provider_config": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": true
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "ariel.hdez@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [
              {
                "pause_status": "PAUSED",
                "quartz_cron_expression": "0 0 5 ? * SUN",
                "timezone_id": "UTC"
              }
            ],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": {
              "component": "genie",
              "domain": "payment-analytics",
              "environment": "dev",
              "project": "payment-analysis",
              "step": "7"
            },
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "Sync Genie space configuration and sample questions to deployed Genie space",
                "disable_auto_optimization": false,
                "disabled": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 0,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "catalog": "ahs_demos_catalog",
                      "schema": "payment_analysis",
                      "space_id": "01f10700a35c1756a892406b5bab0b67",
                      "workspace_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis"
                    },
                    "notebook_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/genie/sync_genie_space",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "sync_genie_config",
                "timeout_seconds": 600,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#job/358349217998024",
            "usage_policy_id": null,
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_model_serving",
      "name": "approval_propensity_endpoint",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ai_gateway": [
              {
                "fallback_config": [],
                "guardrails": [],
                "inference_table_config": [],
                "rate_limits": [
                  {
                    "calls": 100,
                    "key": "user",
                    "principal": "",
                    "renewal_period": "minute",
                    "tokens": 0
                  }
                ],
                "usage_tracking_config": [
                  {
                    "enabled": true
                  }
                ]
              }
            ],
            "budget_policy_id": null,
            "config": [
              {
                "auto_capture_config": [],
                "served_entities": [
                  {
                    "entity_name": "ahs_demos_catalog.payment_analysis.approval_propensity_model",
                    "entity_version": "19",
                    "environment_vars": {
                      "ENABLE_MLFLOW_TRACING": "true"
                    },
                    "external_model": [],
                    "instance_profile_arn": "",
                    "max_provisioned_concurrency": 0,
                    "max_provisioned_throughput": 0,
                    "min_provisioned_concurrency": 0,
                    "min_provisioned_throughput": 0,
                    "name": "approval_propensity_model-19",
                    "provisioned_model_units": 0,
                    "scale_to_zero_enabled": true,
                    "workload_size": "Small",
                    "workload_type": "CPU"
                  }
                ],
                "served_models": [],
                "traffic_config": [
                  {
                    "routes": [
                      {
                        "served_entity_name": "approval_propensity_model-19",
                        "served_model_name": "approval_propensity_model-19",
                        "traffic_percentage": 100
                      }
                    ]
                  }
                ]
              }
            ],
            "description": null,
            "email_notifications": [],
            "endpoint_url": "",
            "id": "approval-propensity",
            "name": "approval-propensity",
            "rate_limits": [],
            "route_optimized": false,
            "serving_endpoint_id": "3c51e25da8564a1fad76252e004d552b",
            "tags": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjI3MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_model_serving",
      "name": "decline_analyst_endpoint",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ai_gateway": [],
            "budget_policy_id": null,
            "config": [
              {
                "auto_capture_config": [],
                "served_entities": [
                  {
                    "entity_name": "ahs_demos_catalog.agents.decline_analyst",
                    "entity_version": "15",
                    "environment_vars": {
                      "CATALOG": "ahs_demos_catalog",
                      "ENABLE_MLFLOW_TRACING": "true",
                      "LLM_ENDPOINT": "databricks-claude-sonnet-4-5",
                      "SCHEMA": "payment_analysis"
                    },
                    "external_model": [],
                    "instance_profile_arn": "",
                    "max_provisioned_concurrency": 0,
                    "max_provisioned_throughput": 0,
                    "min_provisioned_concurrency": 0,
                    "min_provisioned_throughput": 0,
                    "name": "decline_analyst-15",
                    "provisioned_model_units": 0,
                    "scale_to_zero_enabled": true,
                    "workload_size": "Small",
                    "workload_type": "CPU"
                  }
                ],
                "served_models": [],
                "traffic_config": [
                  {
                    "routes": [
                      {
                        "served_entity_name": "decline_analyst-15",
                        "served_model_name": "decline_analyst-15",
                        "traffic_percentage": 100
                      }
                    ]
                  }
                ]
              }
            ],
            "description": null,
            "email_notifications": [],
            "endpoint_url": "",
            "id": "decline-analyst",
            "name": "decline-analyst",
            "rate_limits": [],
            "route_optimized": false,
            "serving_endpoint_id": "70590f8888934e23aeaaa861a5bfec0c",
            "tags": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjI3MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_model_serving",
      "name": "payment_analysis_orchestrator_endpoint",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ai_gateway": [],
            "budget_policy_id": null,
            "config": [
              {
                "auto_capture_config": [],
                "served_entities": [
                  {
                    "entity_name": "ahs_demos_catalog.agents.orchestrator",
                    "entity_version": "9",
                    "environment_vars": {
                      "CATALOG": "ahs_demos_catalog",
                      "ENABLE_MLFLOW_TRACING": "true",
                      "LLM_ENDPOINT": "databricks-claude-opus-4-6",
                      "LLM_ENDPOINT_ORCHESTRATOR": "databricks-claude-opus-4-6",
                      "LLM_ENDPOINT_SPECIALIST": "databricks-claude-sonnet-4-5",
                      "SCHEMA": "payment_analysis"
                    },
                    "external_model": [],
                    "instance_profile_arn": "",
                    "max_provisioned_concurrency": 0,
                    "max_provisioned_throughput": 0,
                    "min_provisioned_concurrency": 0,
                    "min_provisioned_throughput": 0,
                    "name": "orchestrator-9",
                    "provisioned_model_units": 0,
                    "scale_to_zero_enabled": true,
                    "workload_size": "Small",
                    "workload_type": "CPU"
                  }
                ],
                "served_models": [],
                "traffic_config": [
                  {
                    "routes": [
                      {
                        "served_entity_name": "orchestrator-9",
                        "served_model_name": "orchestrator-9",
                        "traffic_percentage": 100
                      }
                    ]
                  }
                ]
              }
            ],
            "description": null,
            "email_notifications": [],
            "endpoint_url": "",
            "id": "payment-analysis-orchestrator",
            "name": "payment-analysis-orchestrator",
            "rate_limits": [],
            "route_optimized": false,
            "serving_endpoint_id": "9299454cd90643a7b45062cb683ff19d",
            "tags": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjI3MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_model_serving",
      "name": "risk_scoring_endpoint",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ai_gateway": [
              {
                "fallback_config": [],
                "guardrails": [],
                "inference_table_config": [],
                "rate_limits": [
                  {
                    "calls": 100,
                    "key": "user",
                    "principal": "",
                    "renewal_period": "minute",
                    "tokens": 0
                  }
                ],
                "usage_tracking_config": [
                  {
                    "enabled": true
                  }
                ]
              }
            ],
            "budget_policy_id": null,
            "config": [
              {
                "auto_capture_config": [],
                "served_entities": [
                  {
                    "entity_name": "ahs_demos_catalog.payment_analysis.risk_scoring_model",
                    "entity_version": "19",
                    "environment_vars": {
                      "ENABLE_MLFLOW_TRACING": "true"
                    },
                    "external_model": [],
                    "instance_profile_arn": "",
                    "max_provisioned_concurrency": 0,
                    "max_provisioned_throughput": 0,
                    "min_provisioned_concurrency": 0,
                    "min_provisioned_throughput": 0,
                    "name": "risk_scoring_model-19",
                    "provisioned_model_units": 0,
                    "scale_to_zero_enabled": true,
                    "workload_size": "Small",
                    "workload_type": "CPU"
                  }
                ],
                "served_models": [],
                "traffic_config": [
                  {
                    "routes": [
                      {
                        "served_entity_name": "risk_scoring_model-19",
                        "served_model_name": "risk_scoring_model-19",
                        "traffic_percentage": 100
                      }
                    ]
                  }
                ]
              }
            ],
            "description": null,
            "email_notifications": [],
            "endpoint_url": "",
            "id": "risk-scoring",
            "name": "risk-scoring",
            "rate_limits": [],
            "route_optimized": false,
            "serving_endpoint_id": "97cc21dd00f44062b0211b7977432c7d",
            "tags": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjI3MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_model_serving",
      "name": "smart_retry_endpoint",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ai_gateway": [
              {
                "fallback_config": [],
                "guardrails": [],
                "inference_table_config": [],
                "rate_limits": [
                  {
                    "calls": 200,
                    "key": "user",
                    "principal": "",
                    "renewal_period": "minute",
                    "tokens": 0
                  }
                ],
                "usage_tracking_config": [
                  {
                    "enabled": true
                  }
                ]
              }
            ],
            "budget_policy_id": null,
            "config": [
              {
                "auto_capture_config": [],
                "served_entities": [
                  {
                    "entity_name": "ahs_demos_catalog.payment_analysis.smart_retry_policy",
                    "entity_version": "19",
                    "environment_vars": {},
                    "external_model": [],
                    "instance_profile_arn": "",
                    "max_provisioned_concurrency": 0,
                    "max_provisioned_throughput": 0,
                    "min_provisioned_concurrency": 0,
                    "min_provisioned_throughput": 0,
                    "name": "smart_retry_policy-19",
                    "provisioned_model_units": 0,
                    "scale_to_zero_enabled": true,
                    "workload_size": "Small",
                    "workload_type": "CPU"
                  }
                ],
                "served_models": [],
                "traffic_config": [
                  {
                    "routes": [
                      {
                        "served_entity_name": "smart_retry_policy-19",
                        "served_model_name": "smart_retry_policy-19",
                        "traffic_percentage": 100
                      }
                    ]
                  }
                ]
              }
            ],
            "description": null,
            "email_notifications": [],
            "endpoint_url": "",
            "id": "smart-retry",
            "name": "smart-retry",
            "rate_limits": [],
            "route_optimized": false,
            "serving_endpoint_id": "0eed7a36cb8140d3aafd2d1afb66dac4",
            "tags": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjI3MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_model_serving",
      "name": "smart_routing_endpoint",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ai_gateway": [
              {
                "fallback_config": [],
                "guardrails": [],
                "inference_table_config": [],
                "rate_limits": [
                  {
                    "calls": 200,
                    "key": "user",
                    "principal": "",
                    "renewal_period": "minute",
                    "tokens": 0
                  }
                ],
                "usage_tracking_config": [
                  {
                    "enabled": true
                  }
                ]
              }
            ],
            "budget_policy_id": null,
            "config": [
              {
                "auto_capture_config": [],
                "served_entities": [
                  {
                    "entity_name": "ahs_demos_catalog.payment_analysis.smart_routing_policy",
                    "entity_version": "19",
                    "environment_vars": {},
                    "external_model": [],
                    "instance_profile_arn": "",
                    "max_provisioned_concurrency": 0,
                    "max_provisioned_throughput": 0,
                    "min_provisioned_concurrency": 0,
                    "min_provisioned_throughput": 0,
                    "name": "smart_routing_policy-19",
                    "provisioned_model_units": 0,
                    "scale_to_zero_enabled": true,
                    "workload_size": "Small",
                    "workload_type": "CPU"
                  }
                ],
                "served_models": [],
                "traffic_config": [
                  {
                    "routes": [
                      {
                        "served_entity_name": "smart_routing_policy-19",
                        "served_model_name": "smart_routing_policy-19",
                        "traffic_percentage": 100
                      }
                    ]
                  }
                ]
              }
            ],
            "description": null,
            "email_notifications": [],
            "endpoint_url": "",
            "id": "smart-routing",
            "name": "smart-routing",
            "rate_limits": [],
            "route_optimized": false,
            "serving_endpoint_id": "a5d7c5fc3ba4442e8593be0c0874042e",
            "tags": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjI3MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_pipeline",
      "name": "payment_analysis_etl",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_duplicate_names": false,
            "budget_policy_id": null,
            "catalog": "ahs_demos_catalog",
            "cause": null,
            "channel": "CURRENT",
            "cluster": [],
            "cluster_id": "0213-190804-ui5u5x4k-v2n",
            "configuration": {
              "catalog_name": "ahs_demos_catalog",
              "pipelines.enableAutoOptimize": "true",
              "pipelines.tableMaterialization.autoPropagate": "true",
              "pipelines.trigger.interval": "2 seconds",
              "schema_name": "payment_analysis",
              "spark.databricks.delta.autoCompact.enabled": "true",
              "spark.databricks.delta.optimizeWrite.enabled": "true",
              "spark.databricks.delta.preview.enabled": "true",
              "spark.databricks.delta.schema.autoMerge.enabled": "true"
            },
            "continuous": false,
            "creator_user_name": "ariel.hdez@databricks.com",
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "development": false,
            "edition": "ADVANCED",
            "environment": [],
            "event_log": [],
            "expected_last_modified": 0,
            "filters": [],
            "gateway_definition": [],
            "health": null,
            "id": "a5c0f557-ff98-4d0b-838d-52415f2b1d3d",
            "ingestion_definition": [],
            "last_modified": 1771044352129,
            "latest_updates": [
              {
                "creation_time": "2026-02-14T04:39:26.952Z",
                "state": "COMPLETED",
                "update_id": "852550e1-4cb6-40b9-8f3a-f644e3122901"
              },
              {
                "creation_time": "2026-02-13T20:44:01.424Z",
                "state": "CANCELED",
                "update_id": "8cea6640-097c-42b6-85da-b2db6ce6c468"
              },
              {
                "creation_time": "2026-02-13T19:08:03.487Z",
                "state": "CANCELED",
                "update_id": "2922593b-8e0d-41d4-9e3a-5dbaa740ba38"
              },
              {
                "creation_time": "2026-02-13T18:40:20.626Z",
                "state": "COMPLETED",
                "update_id": "ed7a1060-2d91-4403-98fb-e1db5e0b6181"
              },
              {
                "creation_time": "2026-02-13T11:43:25.784Z",
                "state": "COMPLETED",
                "update_id": "00ab0dd1-ee9a-4e11-94ce-e3361f6228bf"
              }
            ],
            "library": [
              {
                "file": [],
                "glob": [],
                "jar": "",
                "maven": [],
                "notebook": [
                  {
                    "path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/streaming/bronze_ingest"
                  }
                ],
                "whl": ""
              },
              {
                "file": [],
                "glob": [],
                "jar": "",
                "maven": [],
                "notebook": [
                  {
                    "path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/silver_transform"
                  }
                ],
                "whl": ""
              },
              {
                "file": [],
                "glob": [],
                "jar": "",
                "maven": [],
                "notebook": [
                  {
                    "path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/transform/gold_views"
                  }
                ],
                "whl": ""
              }
            ],
            "name": "[dev] 8. Payment Analysis ETL",
            "notification": [],
            "photon": true,
            "restart_window": [],
            "root_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis",
            "run_as": [],
            "run_as_user_name": "ariel.hdez@databricks.com",
            "schema": "payment_analysis",
            "serverless": true,
            "state": "IDLE",
            "storage": null,
            "tags": null,
            "target": null,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#joblist/pipelines/a5c0f557-ff98-4d0b-838d-52415f2b1d3d",
            "usage_policy_id": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWZhdWx0IjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "databricks_schema.payment_analysis_schema"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_pipeline",
      "name": "payment_realtime_pipeline",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_duplicate_names": false,
            "budget_policy_id": null,
            "catalog": "ahs_demos_catalog",
            "cause": null,
            "channel": "CURRENT",
            "cluster": [],
            "cluster_id": "0213-185516-hr8j9jqh-v2n",
            "configuration": {
              "catalog_name": "ahs_demos_catalog",
              "pipelines.enableAutoOptimize": "true",
              "schema_name": "payment_analysis",
              "spark.databricks.delta.autoCompact.enabled": "true",
              "spark.databricks.delta.optimizeWrite.enabled": "true"
            },
            "continuous": false,
            "creator_user_name": "ariel.hdez@databricks.com",
            "deployment": [
              {
                "kind": "BUNDLE",
                "metadata_file_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/state/metadata.json"
              }
            ],
            "development": false,
            "edition": "ADVANCED",
            "environment": [],
            "event_log": [],
            "expected_last_modified": 0,
            "filters": [],
            "gateway_definition": [],
            "health": null,
            "id": "8d8266d3-b46a-45db-b9a6-5a51ca2a29cc",
            "ingestion_definition": [],
            "last_modified": 1771044352163,
            "latest_updates": [
              {
                "creation_time": "2026-02-14T04:39:28.114Z",
                "state": "COMPLETED",
                "update_id": "67ca72dc-9bad-408f-ba63-df247aa774ab"
              },
              {
                "creation_time": "2026-02-13T21:59:40.287Z",
                "state": "CANCELED",
                "update_id": "5d550774-00c4-4968-a62b-2c5c19f3b6a5"
              },
              {
                "creation_time": "2026-02-13T20:44:02.447Z",
                "state": "CANCELED",
                "update_id": "e48be9d2-6086-4a2e-a40c-85cfb13a517b"
              },
              {
                "creation_time": "2026-02-13T19:07:41.009Z",
                "state": "CANCELED",
                "update_id": "1b81e9c1-222c-4064-962b-8f51b7ff3b64"
              },
              {
                "creation_time": "2026-02-13T19:05:51.242Z",
                "state": "COMPLETED",
                "update_id": "92a913c6-d2a3-4e36-b975-d59cda9f047f"
              }
            ],
            "library": [
              {
                "file": [],
                "glob": [],
                "jar": "",
                "maven": [],
                "notebook": [
                  {
                    "path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis/streaming/realtime_pipeline"
                  }
                ],
                "whl": ""
              }
            ],
            "name": "[dev] 9. Payment Real-Time Stream",
            "notification": [],
            "photon": true,
            "restart_window": [],
            "root_path": "/Workspace/Users/ariel.hdez@databricks.com/payment-analysis/src/payment_analysis",
            "run_as": [],
            "run_as_user_name": "ariel.hdez@databricks.com",
            "schema": "payment_analysis",
            "serverless": true,
            "state": "IDLE",
            "storage": null,
            "tags": null,
            "target": null,
            "timeouts": null,
            "trigger": [],
            "url": "https://adb-984752964297111.11.azuredatabricks.net/#joblist/pipelines/8d8266d3-b46a-45db-b9a6-5a51ca2a29cc",
            "usage_policy_id": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWZhdWx0IjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "databricks_schema.payment_analysis_schema"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_schema",
      "name": "agents_schema",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_name": "ahs_demos_catalog",
            "comment": "AgentBricks registered models (LangGraph agents). Job 6 uses model_registry_catalog.model_registry_schema.\nRegister with mlflow.register_model(..., name=f\"{catalog}.agents.{agent_name}\").\n",
            "enable_predictive_optimization": "INHERIT",
            "force_destroy": true,
            "id": "ahs_demos_catalog.agents",
            "metastore_id": "b86c6879-8c55-4e70-a585-18d16a4fa6e9",
            "name": "agents",
            "owner": "ariel.hdez@databricks.com",
            "properties": null,
            "schema_id": "9faed80e-a276-4077-8483-0d5fb9fbdcd3",
            "storage_root": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_schema",
      "name": "payment_analysis_schema",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_name": "ahs_demos_catalog",
            "comment": "Payment Approval Analysis Platform (dev).\nBronze: raw events. Silver: enriched transactions. Gold: v_* analytical views.\nML models. Agent tool functions (AgentBricks) live here too (catalog.schema.get_*).\n",
            "enable_predictive_optimization": "INHERIT",
            "force_destroy": true,
            "id": "ahs_demos_catalog.payment_analysis",
            "metastore_id": "b86c6879-8c55-4e70-a585-18d16a4fa6e9",
            "name": "payment_analysis",
            "owner": "ariel.hdez@databricks.com",
            "properties": null,
            "schema_id": "30994ce1-81ef-48bf-ac55-487d47f2efda",
            "storage_root": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_sql_endpoint",
      "name": "payment_analysis_warehouse",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "auto_stop_mins": 10,
            "channel": [],
            "cluster_size": "2X-Small",
            "creator_name": "ariel.hdez@databricks.com",
            "data_source_id": "430a4181-87ee-479c-a04d-8923951d208a",
            "enable_photon": true,
            "enable_serverless_compute": true,
            "health": [
              {
                "details": "",
                "failure_reason": [],
                "message": "",
                "status": "HEALTHY",
                "summary": ""
              }
            ],
            "id": "e32655fc948961bc",
            "instance_profile_arn": null,
            "jdbc_url": "jdbc:spark://adb-984752964297111.11.azuredatabricks.net:443/default;transportMode=http;ssl=1;AuthMech=3;httpPath=/sql/1.0/warehouses/e32655fc948961bc;",
            "max_num_clusters": 1,
            "min_num_clusters": 1,
            "name": "[dev] Payment Analysis Warehouse",
            "no_wait": null,
            "num_active_sessions": 0,
            "num_clusters": 1,
            "odbc_params": [
              {
                "hostname": "adb-984752964297111.11.azuredatabricks.net",
                "path": "/sql/1.0/warehouses/e32655fc948961bc",
                "port": 443,
                "protocol": "https"
              }
            ],
            "spot_instance_policy": "COST_OPTIMIZED",
            "state": "RUNNING",
            "tags": [
              {
                "custom_tags": [
                  {
                    "key": "environment",
                    "value": "dev"
                  },
                  {
                    "key": "project",
                    "value": "payment-analysis"
                  },
                  {
                    "key": "domain",
                    "value": "payment-analytics"
                  }
                ]
              }
            ],
            "timeouts": null,
            "warehouse_type": "PRO"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_volume",
      "name": "checkpoints_volume",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_name": "ahs_demos_catalog",
            "comment": "Checkpoint storage for Structured Streaming and Lakeflow",
            "id": "ahs_demos_catalog.payment_analysis.checkpoints",
            "name": "checkpoints",
            "owner": "ariel.hdez@databricks.com",
            "schema_name": "payment_analysis",
            "storage_location": "abfss://unity@unitydemo.dfs.core.windows.net/b86c6879-8c55-4e70-a585-18d16a4fa6e9/volumes/be798ea9-cfdd-42b2-8a31-2d7a8ac7ac7a",
            "volume_path": "/Volumes/ahs_demos_catalog/payment_analysis/checkpoints",
            "volume_type": "MANAGED"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "databricks_schema.payment_analysis_schema"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_volume",
      "name": "ml_artifacts_volume",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_name": "ahs_demos_catalog",
            "comment": "ML model artifacts, feature store, and training data",
            "id": "ahs_demos_catalog.payment_analysis.ml_artifacts",
            "name": "ml_artifacts",
            "owner": "ariel.hdez@databricks.com",
            "schema_name": "payment_analysis",
            "storage_location": "abfss://unity@unitydemo.dfs.core.windows.net/b86c6879-8c55-4e70-a585-18d16a4fa6e9/volumes/6ea209da-52dc-478d-ad7d-aa357f77cd50",
            "volume_path": "/Volumes/ahs_demos_catalog/payment_analysis/ml_artifacts",
            "volume_type": "MANAGED"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "databricks_schema.payment_analysis_schema"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_volume",
      "name": "raw_data_volume",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_name": "ahs_demos_catalog",
            "comment": "Landing zone for raw payment data files (CSV, JSON, Parquet)",
            "id": "ahs_demos_catalog.payment_analysis.raw_data",
            "name": "raw_data",
            "owner": "ariel.hdez@databricks.com",
            "schema_name": "payment_analysis",
            "storage_location": "abfss://unity@unitydemo.dfs.core.windows.net/b86c6879-8c55-4e70-a585-18d16a4fa6e9/volumes/6476474d-4c86-4f7e-a966-2b574077d532",
            "volume_path": "/Volumes/ahs_demos_catalog/payment_analysis/raw_data",
            "volume_type": "MANAGED"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "databricks_schema.payment_analysis_schema"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_volume",
      "name": "reports_volume",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_name": "ahs_demos_catalog",
            "comment": "Generated reports, dashboard exports, and analytics outputs",
            "id": "ahs_demos_catalog.payment_analysis.reports",
            "name": "reports",
            "owner": "ariel.hdez@databricks.com",
            "schema_name": "payment_analysis",
            "storage_location": "abfss://unity@unitydemo.dfs.core.windows.net/b86c6879-8c55-4e70-a585-18d16a4fa6e9/volumes/45099ac0-424a-4c4b-884c-fc5365a0d8c1",
            "volume_path": "/Volumes/ahs_demos_catalog/payment_analysis/reports",
            "volume_type": "MANAGED"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "databricks_schema.payment_analysis_schema"
          ]
        }
      ]
    }
  ],
  "check_results": null
}