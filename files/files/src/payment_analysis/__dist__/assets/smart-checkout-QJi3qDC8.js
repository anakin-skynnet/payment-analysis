import{c as b,j as e,k,P as _,Q as C,T as P,s as S,t as p,y as r,z as u,E as f,H as n,K as o,B as j,J as g,I as d,N as w}from"./index-BTCHrVpo.js";import{C as M}from"./credit-card-CtmItuZF.js";const L=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],D=b("fingerprint-pattern",L);const E=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],I=b("key",E),i=a=>w(a),A=[{id:"antifraud",name:"Antifraud",note:"~40–50% of declined transactions (Payment Link BR)",icon:S},{id:"3ds",name:"3DS",note:"Mandatory for debit (BR). ~80% friction; 60% authenticated; 80% approved post-auth",icon:M},{id:"idpay",name:"IdPay (Único)",note:"Biometric; provider reports 60–80% recognition success. Not yet live",icon:D},{id:"network_token",name:"Network Token",note:"Mandatory for VISA. Available for VISA & Mastercard at Getnet",icon:p},{id:"passkey",name:"Passkey",note:"Under development at Getnet. No production data yet",icon:I},{id:"vault",name:"Vault",note:"Tokenization and secure storage",icon:p},{id:"data_only",name:"Data Only",note:"Approval uplift data not yet available",icon:p}];function B(){const{entity:a}=k(),c=_({params:{entity:a,limit:25}}),y=C({params:{entity:a,days:30}}),l=P({params:{entity:a,limit:20}}),h=c.data?.data??[],m=(y.data?.data??[])[0],x=l.data?.data??[];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold font-heading tracking-tight text-foreground",children:"Smart Checkout"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-muted-foreground",children:"Payment Link · Brazil · Increase approval rates with the right service mix"}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[e.jsxs("div",{className:"rounded-lg border border-border/80 bg-muted/30 px-4 py-2 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Scope: "}),e.jsx("span",{className:"font-medium",children:"~5M transactions/year (Payment Link)"})]}),e.jsxs("div",{className:"rounded-lg border border-border/80 bg-muted/30 px-4 py-2 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Overall approval: "}),e.jsx("span",{className:"font-semibold text-foreground",children:"~73%"}),e.jsx("span",{className:"text-muted-foreground",children:" (varies by seller profile)"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Payment services at a glance"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Complementary services that impact security, experience, and approval rates. Getnet and third-party."}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:A.map(t=>{const s=t.icon;return e.jsxs(r,{className:"border-border/80",children:[e.jsx(u,{className:"pb-2",children:e.jsxs(f,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(s,{className:"h-4 w-4 text-primary"}),t.name]})}),e.jsx(n,{children:e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:t.note})})]},t.id)})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"3DS funnel (Payment Link – Brazil)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Controlled test 2025: friction, authentication success, and issuer approval post-auth."}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{label:"3DS friction rate",value:m?.three_ds_friction_rate_pct,suffix:"%"},{label:"3DS authentication rate",value:m?.three_ds_authentication_rate_pct,suffix:"%"},{label:"Issuer approval (post-auth)",value:m?.issuer_approval_post_auth_rate_pct,suffix:"%"}].map(({label:t,value:s,suffix:N})=>e.jsxs(r,{className:"cursor-pointer border-border/80 hover:border-primary/40 hover:shadow-md transition-all",onClick:()=>i(o("/sql/dashboards/authentication_security")),role:"button",tabIndex:0,onKeyDown:v=>v.key==="Enter"&&i(o("/sql/dashboards/authentication_security")),children:[e.jsx(u,{children:e.jsx(f,{className:"text-sm font-medium text-muted-foreground",children:t})}),e.jsx(n,{children:e.jsx("p",{className:"text-2xl font-semibold tabular-nums",children:s!=null?`${s}${N}`:"—"})})]},t))}),e.jsxs(j,{variant:"outline",size:"sm",className:"mt-3 gap-2",onClick:()=>i(o("/sql/dashboards/authentication_security")),children:["Open 3DS & authentication dashboard ",e.jsx(g,{className:"h-3.5 w-3.5"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Top service paths (payment links)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Performance by service combination. Antifraud share of declines shown per path."}),e.jsx(r,{className:"border-border/80",children:e.jsx(n,{className:"pt-6",children:c.isLoading?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading…"}):c.isError?e.jsx("p",{className:"text-sm text-destructive",children:"Failed to load data."}):h.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet. Run the simulator and ETL to populate views."}):e.jsx("ul",{className:"space-y-3",children:h.map(t=>e.jsxs("li",{className:"flex items-center justify-between gap-4 py-2 border-b border-border/50 last:border-0",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-mono text-sm truncate",children:t.service_path}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Antifraud declines: ",t.antifraud_declines,t.antifraud_pct_of_declines!=null?` (${t.antifraud_pct_of_declines}% of declines)`:""]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs(d,{variant:"secondary",children:[t.transaction_count," tx"]}),e.jsxs(d,{children:[t.approval_rate_pct,"% approval"]})]})]},t.service_path))})})}),e.jsxs(j,{variant:"outline",size:"sm",className:"mt-3 gap-2",onClick:()=>i(o("/sql/dashboards/routing_optimization")),children:["Open routing dashboard ",e.jsx(g,{className:"h-3.5 w-3.5"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Recommended path performance"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Approval rates for ML-recommended service paths."}),e.jsx(r,{className:"border-border/80",children:e.jsx(n,{className:"pt-6",children:l.isLoading?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading…"}):l.isError?e.jsx("p",{className:"text-sm text-destructive",children:"Failed to load data."}):x.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No data yet."}):e.jsx("ul",{className:"space-y-2",children:x.map(t=>e.jsxs("li",{className:"flex items-center justify-between py-2 border-b border-border/50 last:border-0",children:[e.jsx("span",{className:"font-mono text-sm",children:t.recommended_path}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{variant:"secondary",children:t.transaction_count}),e.jsxs(d,{children:[t.approval_rate_pct,"%"]})]})]},t.recommended_path))})})})]})]})}const G=()=>e.jsx(B,{});export{G as component};
